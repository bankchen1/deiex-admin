# æ•°æ®ç»“æ„ä¿®å¤å®Œæˆ

## ğŸ¯ é—®é¢˜æ ¹æº

æ‰¾åˆ°äº†ï¼é—®é¢˜æ˜¯**æ•°æ®ç»“æ„ä¸åŒ¹é…**ï¼š

### Mockè¿”å›çš„ç»“æ„ï¼ˆé”™è¯¯ï¼‰
```javascript
{
  success: true,
  data: {
    items: [...],  // âŒ ä½¿ç”¨ items
    total: 30
  }
}
```

### StoreæœŸæœ›çš„ç»“æ„ï¼ˆæ­£ç¡®ï¼‰
```javascript
{
  success: true,
  data: {
    data: [...],   // âœ… åº”è¯¥ä½¿ç”¨ data
    total: 30,
    page: 1,
    pageSize: 10
  }
}
```

## âœ… å·²ä¿®å¤çš„æ¨¡å—

1. **KYC Mock** (`src/services/mock/modules/kyc.ts`)
   - ä¿®æ”¹ï¼š`items` â†’ `data`
   - æ·»åŠ ï¼š`page` å’Œ `pageSize` å­—æ®µ

2. **Users Mock** (`src/services/mock/modules/users.ts`)
   - ä¿®æ”¹ï¼š`items` â†’ `data`
   - æ·»åŠ ï¼š`page` å’Œ `pageSize` å­—æ®µ

3. **Orders Mock** (`src/services/mock/modules/orders.ts`)
   - ä¿®æ”¹ï¼š`items` â†’ `data`
   - æ·»åŠ ï¼š`page` å’Œ `pageSize` å­—æ®µ

4. **Assets Mock** (`src/services/mock/modules/assets.ts`)
   - Deposits: `items` â†’ `data`
   - Withdrawals: `items` â†’ `data`

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. é‡å¯å¼€å‘æœåŠ¡å™¨

```bash
# åœæ­¢å½“å‰æœåŠ¡å™¨ (Ctrl+C)
npm run dev
```

### 2. ç¡¬åˆ·æ–°æµè§ˆå™¨

- Windows/Linux: `Ctrl + Shift + R`
- Mac: `Cmd + Shift + R`

### 3. ç™»å½•å¹¶æµ‹è¯•

1. ç™»å½•åº”ç”¨
2. è®¿é—® **KYC Management** é¡µé¢
3. åº”è¯¥çœ‹åˆ° **30æ¡KYCè®°å½•**
4. è®¿é—® **Users List** é¡µé¢
5. åº”è¯¥çœ‹åˆ° **50ä¸ªç”¨æˆ·**
6. è®¿é—® **Orders** é¡µé¢
7. åº”è¯¥çœ‹åˆ° **100ä¸ªè®¢å•**

### 4. ä½¿ç”¨è°ƒè¯•é¢æ¿éªŒè¯

ç‚¹å‡»å³ä¸‹è§’çš„ **ğŸ› Debug** æŒ‰é’®ï¼Œè¿è¡Œæµ‹è¯•ï¼š

**Test Users API** åº”è¯¥æ˜¾ç¤ºï¼š
```json
{
  "success": "âœ… Users API successful",
  "total": 50,
  "itemsCount": 10,
  "response": {
    "success": true,
    "data": {
      "data": [...],  // âœ… ç°åœ¨æ˜¯ data è€Œä¸æ˜¯ items
      "total": 50,
      "page": 1,
      "pageSize": 10
    }
  }
}
```

## ğŸ“Š é¢„æœŸç»“æœ

### KYCé¡µé¢
- âœ… æ˜¾ç¤º "Total: 30 applications"
- âœ… è¡¨æ ¼æ˜¾ç¤º10æ¡è®°å½•ï¼ˆç¬¬ä¸€é¡µï¼‰
- âœ… åˆ†é¡µå™¨æ˜¾ç¤ºæ€»å…±30æ¡
- âœ… ç»Ÿè®¡å¡ç‰‡æ˜¾ç¤ºæ•°å­—

### Usersé¡µé¢
- âœ… æ˜¾ç¤º50ä¸ªç”¨æˆ·
- âœ… åˆ†é¡µæ­£å¸¸å·¥ä½œ
- âœ… å¯ä»¥ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…

### Ordersé¡µé¢
- âœ… æ˜¾ç¤º100ä¸ªè®¢å•
- âœ… åˆ†é¡µæ­£å¸¸å·¥ä½œ
- âœ… ç­›é€‰åŠŸèƒ½æ­£å¸¸

### Dashboardé¡µé¢
- âœ… 6ä¸ªç»Ÿè®¡å¡ç‰‡æ˜¾ç¤ºæ•°å­—
- âœ… å¾…åŠäº‹é¡¹åˆ—è¡¨æœ‰å†…å®¹
- âœ… å›¾è¡¨æ˜¾ç¤ºæ•°æ®

## ğŸ” æ•°æ®æµç¨‹è¯´æ˜

### æ­£ç¡®çš„æ•°æ®æµç¨‹

1. **ç»„ä»¶è°ƒç”¨Store**ï¼š
```typescript
await kycStore.fetchList()
```

2. **Storeè°ƒç”¨API**ï¼š
```typescript
const response = await kycApi.getList({ page: 1, pageSize: 10 })
```

3. **MockæœåŠ¡æ‹¦æˆªå¹¶è¿”å›**ï¼š
```typescript
{
  data: {
    success: true,
    data: {
      data: [...],      // âœ… åˆ—è¡¨æ•°æ®
      total: 30,        // âœ… æ€»æ•°
      page: 1,          // âœ… å½“å‰é¡µ
      pageSize: 10      // âœ… æ¯é¡µæ•°é‡
    }
  }
}
```

4. **å“åº”æ‹¦æˆªå™¨è¿”å›**ï¼š
```typescript
response.data = {
  success: true,
  data: {
    data: [...],
    total: 30,
    page: 1,
    pageSize: 10
  }
}
```

5. **Storeå¤„ç†æ•°æ®**ï¼š
```typescript
list.value = response.data.data  // âœ… è·å–åˆ—è¡¨
total.value = response.data.total // âœ… è·å–æ€»æ•°
```

6. **ç»„ä»¶æ˜¾ç¤ºæ•°æ®**ï¼š
```vue
<KycTable :data-source="list" :pagination="{ total }" />
```

## ğŸ‰ æˆåŠŸæ ‡å¿—

å½“ä¿®å¤æˆåŠŸåï¼Œä½ åº”è¯¥çœ‹åˆ°ï¼š

1. âœ… KYCé¡µé¢æ˜¾ç¤º30æ¡è®°å½•
2. âœ… Usersé¡µé¢æ˜¾ç¤º50ä¸ªç”¨æˆ·
3. âœ… Ordersé¡µé¢æ˜¾ç¤º100ä¸ªè®¢å•
4. âœ… æ‰€æœ‰åˆ—è¡¨é¡µé¢çš„åˆ†é¡µæ­£å¸¸å·¥ä½œ
5. âœ… ç»Ÿè®¡æ•°å­—æ­£ç¡®æ˜¾ç¤º
6. âœ… æ— "No data"æç¤º
7. âœ… æ— çº¢è‰²é”™è¯¯

## ğŸ› å¦‚æœè¿˜æ˜¯æ²¡æœ‰æ•°æ®

### æ£€æŸ¥1ï¼šç¡®è®¤ä¿®æ”¹å·²ç”Ÿæ•ˆ

åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œï¼š

```javascript
// æµ‹è¯•KYC API
const { apiClient } = await import('/src/services/api/AdminApiClient.ts')
const response = await apiClient.get('/admin/kyc')
console.log('Response:', response)
console.log('Data structure:', response.data)
console.log('Has data field?', 'data' in response.data)
console.log('Data array:', response.data.data)
```

åº”è¯¥çœ‹åˆ°ï¼š
```javascript
Response: { success: true, data: { data: [...], total: 30, ... } }
Data structure: { data: [...], total: 30, page: 1, pageSize: 10 }
Has data field? true
Data array: [{ id: 'kyc-1', ... }, ...]
```

### æ£€æŸ¥2ï¼šç¡®è®¤Storeæ­£ç¡®å¤„ç†

```javascript
// æµ‹è¯•KYC Store
const { useKycStore } = await import('/src/stores/kyc.ts')
const store = useKycStore()

console.log('Before fetch:')
console.log('- List:', store.list)
console.log('- Total:', store.total)

await store.fetchList()

console.log('After fetch:')
console.log('- List:', store.list)
console.log('- Total:', store.total)
console.log('- List length:', store.list.length)
```

åº”è¯¥çœ‹åˆ°ï¼š
```javascript
After fetch:
- List: [{ id: 'kyc-1', ... }, { id: 'kyc-2', ... }, ...]
- Total: 30
- List length: 10
```

### æ£€æŸ¥3ï¼šæ¸…é™¤ç¼“å­˜

å¦‚æœä¸Šé¢çš„æµ‹è¯•éƒ½é€šè¿‡ä½†é¡µé¢è¿˜æ˜¯æ²¡æœ‰æ•°æ®ï¼š

```bash
# å®Œå…¨æ¸…é™¤ç¼“å­˜
rm -rf node_modules/.vite
rm -rf dist

# é‡å¯
npm run dev
```

ç„¶åç¡¬åˆ·æ–°æµè§ˆå™¨ã€‚

## ğŸ“ æŠ€æœ¯è¯´æ˜

### ä¸ºä»€ä¹ˆæœ‰ä¸¤ç§ç»“æ„ï¼Ÿ

é¡¹ç›®ä¸­æœ‰ä¸¤ä¸ªä¸åŒçš„`PaginatedResponse`ç±»å‹å®šä¹‰ï¼š

**ç±»å‹1** (`src/types/api.ts`)ï¼š
```typescript
interface PaginatedResponse<T> {
  data: T[]
  total: number
  page: number
  pageSize: number
}
```

**ç±»å‹2** (æŸäº›APIæ–‡ä»¶)ï¼š
```typescript
interface PaginatedResponse<T> {
  items: T[]
  total: number
}
```

å¤§éƒ¨åˆ†Storeä½¿ç”¨ç±»å‹1ï¼ˆ`data`å­—æ®µï¼‰ï¼Œæ‰€ä»¥MockæœåŠ¡ä¹Ÿåº”è¯¥è¿”å›è¿™ç§æ ¼å¼ã€‚

### ç»Ÿä¸€å»ºè®®

ä¸ºäº†é¿å…æ··æ·†ï¼Œå»ºè®®ï¼š
1. ç»Ÿä¸€ä½¿ç”¨ `data` å­—æ®µ
2. å§‹ç»ˆåŒ…å« `page` å’Œ `pageSize`
3. æ›´æ–°æ‰€æœ‰Mockæ¨¡å—ä½¿ç”¨ç›¸åŒç»“æ„

## ğŸš€ ä¸‹ä¸€æ­¥

ä¿®å¤å®Œæˆåï¼Œä½ å¯ä»¥ï¼š

1. âœ… æ­£å¸¸ä½¿ç”¨æ‰€æœ‰åˆ—è¡¨é¡µé¢
2. âœ… æµ‹è¯•åˆ†é¡µåŠŸèƒ½
3. âœ… æµ‹è¯•ç­›é€‰åŠŸèƒ½
4. âœ… æµ‹è¯•æ’åºåŠŸèƒ½
5. âœ… å¼€å§‹å¼€å‘æ–°åŠŸèƒ½

æ‰€æœ‰Mockæ•°æ®éƒ½å·²å°±ç»ªï¼Œæ— éœ€åç«¯å³å¯å®Œæ•´ä½“éªŒåº”ç”¨ï¼
