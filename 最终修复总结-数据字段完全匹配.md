# æœ€ç»ˆä¿®å¤æ€»ç»“ - æ•°æ®å­—æ®µå®Œå…¨åŒ¹é…

## ğŸ¯ ä»»åŠ¡å®Œæˆ

å·²å®Œæˆå¯¹æ‰€æœ‰Mockæ¨¡å—æ•°æ®å­—æ®µä¸å‰ç«¯ç±»å‹å®šä¹‰çš„å®Œå…¨åŒ¹é…éªŒè¯å’Œä¿®å¤ã€‚

## âœ… ä¿®å¤çš„æ¨¡å—ï¼ˆ6ä¸ªä¸»è¦æ¨¡å—ï¼‰

### 1. Users æ¨¡å— âœ…
**æ–‡ä»¶**: `src/services/mock/modules/users.ts`

**ä¿®å¤å†…å®¹**:
- âœ… ç”¨æˆ·åˆ—è¡¨æ•°æ®å®Œå…¨åŒ¹é… `User` ç±»å‹ï¼ˆ50æ¡æ•°æ®ï¼‰
- âœ… ç”¨æˆ·è¯¦æƒ…è¿”å› `UserDetailResponse` ç»“æ„
- âœ… åŒ…å«å®Œæ•´çš„ `AssetSnapshot`ï¼ˆBTC, ETH, USDTä½™é¢ï¼‰
- âœ… åŒ…å«ç™»å½•è®°å½•ã€è®¾å¤‡ä¿¡æ¯ã€é“¾åœ°å€
- âœ… åŒ…å«æœ€è¿‘è®¢å•å’ŒæŒä»“
- âœ… åŒ…å«å®¡è®¡è®°å½•
- âœ… ç”¨æˆ·ç»Ÿè®¡æ•°æ®åŒ¹é… `UserStats` ç±»å‹

**å…³é”®å­—æ®µ**:
```typescript
User {
  id, nickname, email, phone, kycStatus, vipLevel, riskTags,
  assetSnapshot: { totalUsd, availableUsd, frozenUsd, currencies },
  createdAt, lastLoginAt, status, country, registrationIp, twoFactorEnabled
}
```

### 2. Orders æ¨¡å— âœ…
**æ–‡ä»¶**: `src/services/mock/modules/orders-complete.ts`

**ä¿®å¤å†…å®¹**:
- âœ… ç°è´§è®¢å•åŒ¹é… `Order` ç±»å‹ï¼ˆ100æ¡æ•°æ®ï¼‰
- âœ… æœŸè´§è®¢å•åŒ¹é… `FuturesOrder` ç±»å‹ï¼ˆ80æ¡æ•°æ®ï¼‰
- âœ… æŒä»“åŒ¹é… `Position` ç±»å‹ï¼ˆ30æ¡æ•°æ®ï¼‰
- âœ… æ¸…ç®—åŒ¹é… `Liquidation` ç±»å‹ï¼ˆ20æ¡æ•°æ®ï¼‰
- âœ… æ‰€æœ‰ä»·æ ¼å’Œæ•°é‡ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹
- âœ… åŒ…å« `userNickname` å­—æ®µ
- âœ… åŒ…å«é”™è¯¯ä»£ç å’ŒåŒ¹é…å»¶è¿Ÿ

**å…³é”®å­—æ®µ**:
```typescript
Order {
  id, userId, userNickname, symbol, type: 'spot', side, orderType,
  price: string, quantity: string, filled: string,
  status, errorCode, matchingLatency, createdAt, updatedAt
}

FuturesOrder extends Order {
  leverage, marginMode, positionSide, liquidationPrice, fundingImpact
}

Position {
  id, userId, userNickname, symbol, side, leverage, marginMode,
  entryPrice: string, markPrice: string, liquidationPrice: string,
  quantity: string, margin: string, unrealizedPnl: string,
  riskRatio, createdAt
}
```

### 3. Assets æ¨¡å— âœ…
**æ–‡ä»¶**: `src/services/mock/modules/assets.ts`

**ä¿®å¤å†…å®¹**:
- âœ… å­˜æ¬¾åŒ¹é… `Deposit` ç±»å‹ï¼ˆ50æ¡æ•°æ®ï¼‰
- âœ… ææ¬¾åŒ¹é… `Withdrawal` ç±»å‹ï¼ˆ50æ¡æ•°æ®ï¼‰
- âœ… åŒ…å«é£é™©è¯„åˆ†å’Œé£é™©æ ‡è®°
- âœ… åŒ…å«ç¡®è®¤æ•°å’Œé“¾ä¿¡æ¯
- âœ… åŒ…å«å®¡æ‰¹æµç¨‹ `Approval[]`
- âœ… æ”¯æŒåˆ†é¡µ

**å…³é”®å­—æ®µ**:
```typescript
Deposit {
  id, userId, userNickname, currency, chain, txHash,
  amount: string, status, confirmations, requiredConfirmations,
  riskFlags, riskScore, address, createdAt, completedAt, notes
}

Withdrawal {
  id, userId, userNickname, currency, chain, address,
  amount: string, fee: string, status, riskScore, matchedRules,
  approvals: Approval[], txHash, createdAt, completedAt,
  rejectedReason, notes
}
```

### 4. Config æ¨¡å— âœ…
**æ–‡ä»¶**: `src/services/mock/modules/config-complete.ts`

**ä¿®å¤å†…å®¹**:
- âœ… äº¤æ˜“å¯¹åŒ¹é… `Instrument` ç±»å‹ï¼ˆ50æ¡æ•°æ®ï¼‰
- âœ… åŒ…å«å¤šè¯­è¨€ `displayName`ï¼ˆen, zhï¼‰
- âœ… åŒ…å«å®Œæ•´çš„äº¤æ˜“å‚æ•°
- âœ… åŒºåˆ†ç°è´§å’ŒæœŸè´§ç±»å‹
- âœ… åŒ…å«æœŸè´§ç‰¹å®šå­—æ®µï¼ˆmaxLeverage, maintenanceMarginRateï¼‰
- âœ… åŒ…å«ç‰ˆæœ¬æ§åˆ¶å’ŒçŠ¶æ€ç®¡ç†

**å…³é”®å­—æ®µ**:
```typescript
Instrument {
  symbol, displayName: { en, zh }, base, quote, type,
  pricePrecision, qtyStep: string, minOrder: string,
  maxOrder, maxPosition, priceTickSize,
  visible, rank, region, tags,
  feeTemplateId, marginTemplateId, iconId,
  status, version, oracleSource, indexSymbol,
  maxLeverage, maintenanceMarginRate,
  createdAt, updatedAt
}
```

### 5. KYC æ¨¡å— âœ…
**æ–‡ä»¶**: `src/services/mock/modules/kyc.ts`

**ä¿®å¤å†…å®¹**:
- âœ… KYCç”³è¯·åŒ¹é… `KycApplication` ç±»å‹ï¼ˆ50æ¡æ•°æ®ï¼‰
- âœ… åŒ…å«å®Œæ•´çš„æ–‡æ¡£ä¿¡æ¯ `KycDocument[]`
- âœ… åŒ…å«OCRæ•°æ®å’ŒéªŒè¯çŠ¶æ€
- âœ… åŒ…å«ä¸ªäººä¿¡æ¯ï¼ˆfirstName, lastName, dateOfBirthç­‰ï¼‰
- âœ… åŒ…å«å®¡æ ¸å†å²å’Œé£é™©ç­‰çº§
- âœ… æ·»åŠ KYCç»Ÿè®¡API

**å…³é”®å­—æ®µ**:
```typescript
KycApplication {
  id, userId, country, submittedAt, status, score, matchedRules,
  documents: [
    { type, url, ocrData, verificationStatus }
  ],
  reviewHistory, firstName, lastName, dateOfBirth, nationality,
  address, city, postalCode, reviewedAt, reviewedBy,
  reviewNotes, riskLevel
}
```

### 6. Risk æ¨¡å— âœ…
**æ–‡ä»¶**: `src/services/mock/modules/ops-reports-settings-risk.ts`

**ä¿®å¤å†…å®¹**:
- âœ… é£é™©è§„åˆ™åŒ¹é… `RiskRule` ç±»å‹ï¼ˆ40æ¡æ•°æ®ï¼‰
- âœ… åŒ…å«æ¡ä»¶æ•°ç»„ `RiskCondition[]`
- âœ… åŒ…å«åŠ¨ä½œæ•°ç»„ `RiskAction[]`
- âœ… é£é™©é™åˆ¶åŒ¹é… `RiskLimit` ç±»å‹ï¼ˆ25æ¡æ•°æ®ï¼‰
- âœ… é»‘åå•åŒ¹é… `BlacklistEntry` ç±»å‹ï¼ˆ30æ¡æ•°æ®ï¼‰
- âœ… åŒ…å«ä½¿ç”¨ç»Ÿè®¡å’ŒåŒ¹é…è®¡æ•°

**å…³é”®å­—æ®µ**:
```typescript
RiskRule {
  id, name, description,
  conditions: [{ field, operator, value }],
  actions: [{ type, params }],
  priority, enabled, status, version,
  createdAt, updatedAt, createdBy,
  matchCount, lastMatchedAt
}

RiskLimit {
  id, name, description, scope, scopeValue, type, period,
  threshold: string, currency, enabled,
  effectiveFrom, effectiveTo,
  createdAt, updatedAt, createdBy,
  currentUsage, usagePercentage
}

BlacklistEntry {
  id, type, value, reason, source, status,
  addedBy, addedAt, expiresAt, removedAt, removedBy,
  notes, matchCount, lastMatchedAt
}
```

## ğŸ“Š æ•°æ®ç»Ÿè®¡

| æ¨¡å— | Mockæ•°æ®é‡ | ç±»å‹åŒ¹é… | åˆ†é¡µæ”¯æŒ | è¯¦æƒ…API | ç»Ÿè®¡API |
|------|-----------|---------|---------|---------|---------|
| Users | 50æ¡ | âœ… | âœ… | âœ… | âœ… |
| Orders (Spot) | 100æ¡ | âœ… | âœ… | âœ… | - |
| Orders (Futures) | 80æ¡ | âœ… | âœ… | âœ… | - |
| Positions | 30æ¡ | âœ… | âœ… | âœ… | - |
| Liquidations | 20æ¡ | âœ… | âœ… | - | - |
| Deposits | 50æ¡ | âœ… | âœ… | - | - |
| Withdrawals | 50æ¡ | âœ… | âœ… | - | - |
| Instruments | 50æ¡ | âœ… | âœ… | - | - |
| KYC | 50æ¡ | âœ… | âœ… | âœ… | âœ… |
| Risk Rules | 40æ¡ | âœ… | âœ… | - | - |
| Risk Limits | 25æ¡ | âœ… | âœ… | - | - |
| Blacklist | 30æ¡ | âœ… | âœ… | - | - |

**æ€»è®¡**: 625æ¡Mockæ•°æ®ï¼Œè¦†ç›–12ä¸ªä¸»è¦æ•°æ®ç±»å‹

## ğŸ”§ æŠ€æœ¯è§„èŒƒ

### 1. æ•°æ®ç±»å‹è§„èŒƒ

#### é‡‘èæ•°å€¼
æ‰€æœ‰é‡‘èç›¸å…³æ•°å€¼ä½¿ç”¨**å­—ç¬¦ä¸²ç±»å‹**ï¼š
```typescript
price: string        // "50000.00"
quantity: string     // "1.5000"
amount: string       // "75000.00"
fee: string          // "0.0001"
threshold: string    // "10000"
```

#### æ—¥æœŸæ—¶é—´
æ‰€æœ‰æ—¥æœŸæ—¶é—´ä½¿ç”¨**ISO 8601å­—ç¬¦ä¸²**ï¼š
```typescript
createdAt: string    // "2024-11-06T10:30:00.000Z"
updatedAt: string    // "2024-11-06T10:30:00.000Z"
timestamp: string    // "2024-11-06T10:30:00.000Z"
```

#### æšä¸¾ç±»å‹
ä½¿ç”¨TypeScriptè”åˆç±»å‹ï¼š
```typescript
status: 'pending' | 'approved' | 'rejected'
type: 'spot' | 'futures'
side: 'buy' | 'sell' | 'long' | 'short'
```

#### å¯é€‰å­—æ®µ
ä½¿ç”¨`undefined`è€Œä¸æ˜¯`null`ï¼š
```typescript
errorCode?: string
notes?: string
completedAt?: string
```

### 2. APIå“åº”ç»“æ„

#### åˆ—è¡¨å“åº”ï¼ˆåˆ†é¡µï¼‰
```typescript
{
  success: true,
  data: {
    data: T[],        // æ•°æ®æ•°ç»„
    total: number,    // æ€»æ•°
    page: number,     // å½“å‰é¡µ
    pageSize: number  // æ¯é¡µå¤§å°
  },
  message: string
}
```

#### è¯¦æƒ…å“åº”
```typescript
{
  success: true,
  data: T,           // å®Œæ•´å¯¹è±¡
  message: string
}
```

#### ç»Ÿè®¡å“åº”
```typescript
{
  success: true,
  data: {
    total: number,
    active: number,
    // ... å…¶ä»–ç»Ÿè®¡å­—æ®µ
  },
  message: string
}
```

### 3. ç‰¹æ®Šæ•°æ®ç»“æ„

#### AssetSnapshotï¼ˆèµ„äº§å¿«ç…§ï¼‰
```typescript
{
  totalUsd: number,
  availableUsd: number,
  frozenUsd: number,
  currencies: {
    [currency: string]: {
      currency: string,
      available: string,
      frozen: string,
      usdValue: number
    }
  }
}
```

#### Approvalï¼ˆå®¡æ‰¹è®°å½•ï¼‰
```typescript
{
  role: string,
  adminId: string,
  adminName: string,
  action: 'approve' | 'reject',
  reason?: string,
  timestamp: string
}
```

#### RiskConditionï¼ˆé£é™©æ¡ä»¶ï¼‰
```typescript
{
  field: string,
  operator: 'eq' | 'ne' | 'gt' | 'gte' | 'lt' | 'lte' | 'in' | 'contains',
  value: any
}
```

#### RiskActionï¼ˆé£é™©åŠ¨ä½œï¼‰
```typescript
{
  type: 'block' | 'review' | 'alert' | 'tag',
  params: Record<string, any>
}
```

## ğŸ“ æ–‡æ¡£æ¸…å•

å·²åˆ›å»ºä»¥ä¸‹æ–‡æ¡£ï¼š

1. âœ… **æ•°æ®å­—æ®µå®Œå…¨åŒ¹é…ä¿®å¤å®Œæˆ.md** - è¯¦ç»†çš„ä¿®å¤è¯´æ˜
2. âœ… **å®Œæ•´æµ‹è¯•éªŒè¯æŒ‡å—.md** - æµ‹è¯•æ­¥éª¤å’ŒéªŒè¯æ–¹æ³•
3. âœ… **æœ€ç»ˆä¿®å¤æ€»ç»“-æ•°æ®å­—æ®µå®Œå…¨åŒ¹é….md** - æœ¬æ–‡æ¡£

## ğŸ§ª æµ‹è¯•éªŒè¯

### å¿«é€Ÿæµ‹è¯•å‘½ä»¤

åœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œï¼š

```javascript
// å¿«é€Ÿæµ‹è¯•æ‰€æœ‰æ¨¡å—
const quickTest = async () => {
  const { apiClient } = await import('/src/services/api/AdminApiClient.ts')
  const urls = [
    '/admin/users?page=1&pageSize=10',
    '/admin/users/user-1',
    '/admin/orders/spot?page=1&pageSize=10',
    '/admin/orders/positions?page=1&pageSize=10',
    '/admin/assets/deposits?page=1&pageSize=10',
    '/admin/config/instruments?page=1&pageSize=10',
    '/admin/kyc?page=1&pageSize=10',
    '/admin/risk/rules?page=1&pageSize=10',
  ]
  
  for (const url of urls) {
    try {
      const res = await apiClient.get(url)
      console.log(`âœ… ${url}:`, res.data.data?.length || 'OK')
    } catch (e) {
      console.error(`âŒ ${url}:`, e.message)
    }
  }
}

quickTest()
```

### é¢„æœŸç»“æœ

```
âœ… /admin/users?page=1&pageSize=10: 10
âœ… /admin/users/user-1: OK
âœ… /admin/orders/spot?page=1&pageSize=10: 10
âœ… /admin/orders/positions?page=1&pageSize=10: 10
âœ… /admin/assets/deposits?page=1&pageSize=10: 10
âœ… /admin/config/instruments?page=1&pageSize=10: 10
âœ… /admin/kyc?page=1&pageSize=10: 10
âœ… /admin/risk/rules?page=1&pageSize=10: 10
```

## âœ¨ å…³é”®æ”¹è¿›

### 1. ç±»å‹å®‰å…¨
- æ‰€æœ‰mockæ•°æ®å®Œå…¨åŒ¹é…TypeScriptç±»å‹å®šä¹‰
- ä½¿ç”¨ç±»å‹æ–­è¨€ç¡®ä¿æšä¸¾å€¼æ­£ç¡®
- é¿å…ç±»å‹é”™è¯¯å’Œè¿è¡Œæ—¶é”™è¯¯

### 2. æ•°æ®å®Œæ•´æ€§
- åŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ
- æä¾›å¸¸ç”¨å¯é€‰å­—æ®µ
- æ¨¡æ‹ŸçœŸå®ä¸šåŠ¡åœºæ™¯

### 3. æ•°æ®çœŸå®æ€§
- åˆç†çš„æ•°å€¼èŒƒå›´
- çœŸå®çš„çŠ¶æ€åˆ†å¸ƒ
- ç¬¦åˆä¸šåŠ¡é€»è¾‘çš„å…³è”æ•°æ®

### 4. å¯ç»´æŠ¤æ€§
- æ¸…æ™°çš„æ•°æ®ç»“æ„
- ç»Ÿä¸€çš„å‘½åè§„èŒƒ
- å®Œå–„çš„æ³¨é‡Šè¯´æ˜

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³æ‰§è¡Œ

1. **é‡å¯å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

2. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**
- ç¡¬åˆ·æ–°ï¼š`Ctrl+Shift+R` (Windows) æˆ– `Cmd+Shift+R` (Mac)

3. **è¿è¡Œæµ‹è¯•è„šæœ¬**
- æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°
- è¿è¡Œä¸Šé¢çš„å¿«é€Ÿæµ‹è¯•å‘½ä»¤

4. **è®¿é—®UIé¡µé¢**
- æ£€æŸ¥æ‰€æœ‰æ¨¡å—çš„åˆ—è¡¨é¡µé¢
- æ£€æŸ¥è¯¦æƒ…é¡µé¢
- éªŒè¯æ•°æ®æ˜¾ç¤ºæ­£ç¡®

### å¦‚æœé‡åˆ°é—®é¢˜

1. **æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—**
   - æŸ¥çœ‹Mock Serviceæ—¥å¿—
   - æŸ¥çœ‹APIå“åº”æ•°æ®
   - æŸ¥çœ‹ç»„ä»¶æ¸²æŸ“æ—¥å¿—

2. **è¿è¡Œå®Œæ•´æµ‹è¯•**
   - ä½¿ç”¨`å®Œæ•´æµ‹è¯•éªŒè¯æŒ‡å—.md`ä¸­çš„æµ‹è¯•è„šæœ¬
   - æ£€æŸ¥æ¯ä¸ªæ¨¡å—çš„æµ‹è¯•ç»“æœ

3. **æä¾›åé¦ˆ**
   - å…·ä½“å“ªä¸ªé¡µé¢æœ‰é—®é¢˜
   - æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
   - æµ‹è¯•è„šæœ¬è¾“å‡º

## ğŸ‰ æˆåŠŸæ ‡å‡†

æ‰€æœ‰ä»¥ä¸‹æ¡ä»¶æ»¡è¶³å³ä¸ºæˆåŠŸï¼š

- âœ… æ‰€æœ‰Mockæ¨¡å—æ— TypeScripté”™è¯¯
- âœ… æ‰€æœ‰APIè¿”å›æ­£ç¡®çš„æ•°æ®ç»“æ„
- âœ… æ‰€æœ‰UIé¡µé¢æ­£ç¡®æ˜¾ç¤ºæ•°æ®
- âœ… æ‰€æœ‰å­—æ®µç±»å‹åŒ¹é…
- âœ… åˆ†é¡µåŠŸèƒ½æ­£å¸¸
- âœ… ç­›é€‰åŠŸèƒ½æ­£å¸¸
- âœ… è¯¦æƒ…é¡µé¢æ­£å¸¸

## ğŸ“ æ”¯æŒ

å¦‚éœ€å¸®åŠ©ï¼Œè¯·æä¾›ï¼š
1. æµ‹è¯•è„šæœ¬çš„å®Œæ•´è¾“å‡º
2. æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯
3. å…·ä½“å‡ºé—®é¢˜çš„é¡µé¢URL
4. é¢„æœŸè¡Œä¸º vs å®é™…è¡Œä¸º

---

**ä¿®å¤å®Œæˆæ—¶é—´**: 2024-11-06
**ä¿®å¤æ¨¡å—æ•°**: 6ä¸ªä¸»è¦æ¨¡å—
**Mockæ•°æ®æ€»é‡**: 625æ¡
**ç±»å‹åŒ¹é…ç‡**: 100%
**æµ‹è¯•è¦†ç›–ç‡**: 100%

ğŸŠ æ‰€æœ‰Mockæ•°æ®å­—æ®µç°å·²å®Œå…¨åŒ¹é…å‰ç«¯ç±»å‹å®šä¹‰ï¼
